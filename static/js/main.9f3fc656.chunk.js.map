{"version":3,"sources":["components/Home/Page/Page.module.scss","components/Home/LoadData/LoadData.module.scss","components/Navigation/Navigation.module.scss","components/Navigation/Navigation.jsx","components/Home/LoadData/DataFromExcel/DataFromExcel.jsx","components/Home/LoadData/DataPresentation/DataPresentation.jsx","components/Home/LoadData/LoadData.jsx","components/Home/SetUpParams/SetUpParams.jsx","components/Home/Risk/Risk.jsx","components/Home/Yield/Yield.jsx","components/Home/BestChoice/BestChoice.jsx","components/Home/Page/Page.jsx","utils/disperSKO.js","utils/mo.js","utils/moments.js","utils/varCvar.js","utils/ozhPol.js","utils/vzvPol.js","utils/rangPol.js","components/Home/Home.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Navigation","className","s","navigation","section","sectionName","list","listItem","to","link","activeClassName","active","DataFromExcel","props","file","Promise","resolve","reject","fileReader","FileReader","readAsArrayBuffer","onload","e","bufferArray","target","result","wb","XLSX","type","cellDates","dataByPages","SheetNames","map","name","id","workSheet","Sheets","yieldByDays","sheet_to_json","onerror","error","then","this","onSourceDataInitialize","catch","htmlFor","onChange","onFileChange","files","accept","href","process","React","Component","DataPresentation","state","currentId","newId","setState","chosenFundData","funds","find","_","i","fund","activeClass","onClick","onChangeId","dataRow","moment","Date","format","Value","LoadData","sourceDataWrapper","onSourceDataLoaded","sourceData","length","SetUpParams","change","alpha","beta","momentI","useSterges","intervalCount","defaultIntervalCountValue","onParamsChange","checkChange","value","onApplyButtonClick","bind","disabled","class","defaultChecked","onUseStergesChange","min","max","step","onIntervalCountChange","for","onBetaChange","a","onAlphaChange","onMomentIChange","Risk","fundsRisks","r","disp","sko","varr","cvar","stdMoment","Yield","fundsYields","mo","ojid","vzv","rang","BestChoice","riskMeasures","title","yieldMeasures","activeRisk","activeYield","rangeByCriteria","createRage","risks","yields","y","yd","criteriaD","Decimal","times","minus","criteria","toNumber","sort","b","comparedTo","onRiskChange","onYieldChange","item","initialized","renderComponent","page","noDataMessage","randomVar","disper","MOs","reduce","rv","mo2","x2p","x","pow","mul","p","xp","plus","sub","calculateDisperDecimal","sqrt","sumDecimal","coeff","momentDecimal","sumDec","subDec","zeroDec","pDec","argDec","standMomentDecimal","div","standMoment","varD","probSumD","xD","alphaD","nextProbSumD","nextXD","calculateVarDecimal","cvarD","xiD","piD","calculateCvarDecimal","moD","uxD","pD","wD","vD","wxiD","q","calcwxD","vxiD","l","d","calcvxD","dividedBy","gamma","calcgpD","e1","e3","calcuxD","calcDArrSum","arrD","sumD","xsD","psD","psFirstD","slice","psSecondD","psFDSum","psSDSum","gpFirst","gpSecond","uxi","Main","normalizedData","workData","notNormalizeDataArr","res","onlyYields","ybd","values","ySubMin","maxSubMin","console","log","normalizedDataArr","defaultK","kEval","kUsing","Math","ceil","intervalLen","commonCount","currX","nextX","entryCount","filter","v","concat","varCvarValues","varCvar","dispSkoValues","disperSKO","momentsValues","moments","ojidPol","vzvPol","rangPol","_normalizeData","_createWorkData","_createRisks","_createYields","setStateObj","path","render","Page","exact","from","App","Home","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f3fc656.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__146k3\",\"title\":\"Page_title__ZiG-O\",\"noDataMessage\":\"Page_noDataMessage__1Y8E4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sourceDataWrapper\":\"LoadData_sourceDataWrapper__1WuP-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigation\":\"Navigation_navigation__2PFZj\",\"section\":\"Navigation_section__30btk\",\"sectionName\":\"Navigation_sectionName__3Ah9f\",\"list\":\"Navigation_list__2v2G0\",\"listItem\":\"Navigation_listItem__1UBFz\",\"link\":\"Navigation_link__1uVNA\",\"active\":\"Navigation_active__29Q1g\",\"disabled\":\"Navigation_disabled__2mllI\"};","import React from 'react';\nimport s from './Navigation.module.scss';\nimport { NavLink } from 'react-router-dom';\n\nconst Navigation = () => {\n    return (\n        <div className={s.navigation}>\n            <section className={s.section}>\n                <p className={s.sectionName}>Данные</p>\n                <ul className={s.list}>\n                    <li className={s.listItem}>\n                        <NavLink\n                            to=\"/loaddata\"\n                            className={s.link}\n                            activeClassName={s.active}\n                        >\n                            <i className=\"fas fa-file-upload\"></i>\n                            <span>Исходные данные</span>\n                        </NavLink>\n                    </li>\n                    {/* <li className={s.listItem}>\n                        <NavLink\n                            to=\"/datainfo\"\n                            className={s.link}\n                            activeClassName={s.active}\n                        >\n                            <i className=\"fas fa-chart-bar\"></i>\n                            <span>Обзор данных</span>\n                        </NavLink>\n                    </li> */}\n                </ul>\n            </section>\n            <section className={s.section}>\n                <p className={s.sectionName}>Расчеты</p>\n                <ul className={s.list}>\n                    <li className={s.listItem}>\n                        <NavLink\n                            to=\"/setupparams\"\n                            className={s.link}\n                            activeClassName={s.active}\n                        >\n                            <i className=\"fas fa-sliders-h\"></i>\n                            <span>Параметры</span>\n                        </NavLink>\n                    </li>\n                    <li className={s.listItem}>\n                        <NavLink\n                            to=\"/risk\"\n                            className={s.link}\n                            activeClassName={s.active}\n                        >\n                            <i className=\"fas fa-arrow-down\"></i>\n                            <span>Оценка риска</span>\n                        </NavLink>\n                    </li>\n                    <li className={s.listItem}>\n                        <NavLink\n                            to=\"/yield\"\n                            className={s.link}\n                            activeClassName={s.active}\n                        >\n                            <i className=\"fas fa-arrow-up\"></i>\n                            <span>Оценка доходности</span>\n                        </NavLink>\n                    </li>\n                    <li className={s.listItem}>\n                        <NavLink\n                            to=\"/bestchoice\"\n                            className={s.link}\n                            activeClassName={s.active}\n                        >\n                            <i className=\"fas fa-check\"></i>\n                            <span>Выбор лучшего ПИФа</span>\n                        </NavLink>\n                    </li>\n                </ul>\n            </section>\n        </div>\n    );\n};\n\nexport default Navigation;\n","import React from 'react';\r\nimport * as XLSX from 'xlsx';\r\n\r\nclass DataFromExcel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    onFileChange(file) {\r\n        const readingExcel = new Promise((resolve, reject) => {\r\n            const fileReader = new FileReader();\r\n            fileReader.readAsArrayBuffer(file);\r\n            fileReader.onload = (e) => {\r\n                const bufferArray = e.target.result;\r\n\r\n                const wb = XLSX.read(bufferArray, {\r\n                    type: 'buffer',\r\n                    cellDates: true,\r\n                });\r\n\r\n                const dataByPages = wb.SheetNames.map((name, id) => {\r\n                    const workSheet = wb.Sheets[name];\r\n\r\n                    const res = {\r\n                        id,\r\n                        name,\r\n                        yieldByDays: XLSX.utils.sheet_to_json(workSheet),\r\n                    };\r\n                    return res;\r\n                });\r\n                resolve(dataByPages);\r\n            };\r\n            fileReader.onerror = (error) => reject(error);\r\n        });\r\n\r\n        readingExcel.then(this.props.onSourceDataInitialize).catch();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"btn-group\">\r\n                <label htmlFor=\"loadFile\" className=\"btn btn-primary btn-sm\">\r\n                    Загрузить данные\r\n                </label>\r\n                <input\r\n                    id=\"loadFile\"\r\n                    onChange={(e) => {\r\n                        this.onFileChange(e.target.files[0]);\r\n                    }}\r\n                    className=\"d-none\"\r\n                    type=\"file\"\r\n                    accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n                />\r\n                <a\r\n                    href={process.env.PUBLIC_URL + '/xlsx/EmptyTemplate.xlsx'}\r\n                    className=\"btn btn-light btn-sm\"\r\n                >\r\n                    Скачать шаблон\r\n                </a>\r\n                <a\r\n                    href={process.env.PUBLIC_URL + '/xlsx/DataTemplate.xlsx'}\r\n                    className=\"btn btn-light btn-sm\"\r\n                >\r\n                    Скачать заполненный шаблон\r\n                </a>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DataFromExcel;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nclass DataPresentation extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentId: 0,\r\n        };\r\n    }\r\n\r\n    onChangeId(newId) {\r\n        if (newId !== this.state.currentId) {\r\n            this.setState({ currentId: newId });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const chosenFundData = this.props.funds.find(\r\n            (_, i) => i === this.state.currentId\r\n        ).yieldByDays;\r\n        return (\r\n            <div className=\"row mt-5\">\r\n                <div className=\"col-12 col-md-4 col-xl-3 col-xxl-2\">\r\n                    <div className=\"list-group\">\r\n                        {this.props.funds.map((fund, i) => {\r\n                            const activeClass =\r\n                                i === this.state.currentId\r\n                                    ? ' list-group-item-secondary fw-bold'\r\n                                    : '';\r\n                            return (\r\n                                <button\r\n                                    key={i}\r\n                                    className={\r\n                                        'list-group-item list-group-item-action' +\r\n                                        activeClass\r\n                                    }\r\n                                    onClick={() => {\r\n                                        this.onChangeId(i);\r\n                                    }}\r\n                                >\r\n                                    {fund.name}\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-12 col-md-8 col-xl-9 col-xxl-10\">\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Дата</th>\r\n                                <th>Доходность</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {chosenFundData.map((dataRow, i) => {\r\n                                return (\r\n                                    <tr key={i}>\r\n                                        <td>\r\n                                            {moment(dataRow.Date).format(\r\n                                                'DD.MM.YYYY'\r\n                                            )}\r\n                                        </td>\r\n                                        <td>{dataRow.Value}</td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DataPresentation;\r\n","import React from 'react';\r\nimport s from './LoadData.module.scss';\r\nimport DataFromExcel from './DataFromExcel/DataFromExcel';\r\nimport DataPresentation from './DataPresentation/DataPresentation';\r\n\r\nclass LoadData extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.sourceDataWrapper}>\r\n                <DataFromExcel\r\n                    onSourceDataInitialize={this.props.onSourceDataLoaded}\r\n                />\r\n                {(() => {\r\n                    if (this.props.sourceData.length) {\r\n                        return (\r\n                            <DataPresentation funds={this.props.sourceData} />\r\n                        );\r\n                    }\r\n                })()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoadData;\r\n","import React from 'react';\r\n\r\nclass SetUpParams extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            change: false,\r\n            alpha: this.props.alpha,\r\n            beta: this.props.beta,\r\n            momentI: this.props.momentI,\r\n            useSterges: this.props.intervalCount == null,\r\n            intervalCount: this.props.intervalCount,\r\n            defaultIntervalCountValue: 5,\r\n        };\r\n    }\r\n\r\n    onApplyButtonClick() {\r\n        this.props.onParamsChange({\r\n            alpha: this.state.alpha,\r\n            beta: this.state.beta,\r\n            intervalCount: this.state.intervalCount,\r\n            momentI: this.state.momentI,\r\n        });\r\n        this.setState({ change: false });\r\n    }\r\n\r\n    onUseStergesChange() {\r\n        const useSterges = !this.state.useSterges;\r\n        const intervalCount = useSterges\r\n            ? null\r\n            : this.state.defaultIntervalCountValue;\r\n        this.setState({\r\n            useSterges,\r\n            intervalCount,\r\n            change: this.checkChange({ intervalCount }),\r\n        });\r\n    }\r\n\r\n    onIntervalCountChange(e) {\r\n        this.setState({\r\n            intervalCount: e.target.value,\r\n            change: this.checkChange({ intervalCount: e.target.value }),\r\n        });\r\n    }\r\n\r\n    onBetaChange(e) {\r\n        this.setState({\r\n            beta: e.target.value,\r\n            change: this.checkChange({ beta: e.target.value }),\r\n        });\r\n    }\r\n\r\n    onAlphaChange(alpha) {\r\n        this.setState({ alpha: alpha, change: this.checkChange({ alpha }) });\r\n    }\r\n\r\n    onMomentIChange(e) {\r\n        this.setState({\r\n            momentI: e.target.value,\r\n            change: this.checkChange({ momentI: e.target.value }),\r\n        });\r\n    }\r\n\r\n    checkChange({\r\n        alpha = this.state.alpha,\r\n        beta = this.state.beta,\r\n        momentI = this.state.momentI,\r\n        intervalCount = this.state.intervalCount,\r\n    }) {\r\n        const change = !(\r\n            alpha == this.props.alpha &&\r\n            beta == this.props.beta &&\r\n            momentI == this.props.momentI &&\r\n            intervalCount == this.props.intervalCount\r\n        );\r\n        return change;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"\">\r\n                    <button\r\n                        className=\"btn btn-primary btn-sm\"\r\n                        onClick={this.onApplyButtonClick.bind(this)}\r\n                        disabled={!this.state.change}\r\n                    >\r\n                        Применить\r\n                    </button>\r\n                </div>\r\n                <div className=\"row justify-content-around\">\r\n                    <div className=\"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5\">\r\n                        <h5 className=\"mb-4\">\r\n                            Количество разбиений интервального вариационного\r\n                            ряда\r\n                        </h5>\r\n                        <div class=\"d-flex align-items-center mb-3\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                id=\"useSterges\"\r\n                                class=\"me-2 d-inline-block\"\r\n                                defaultChecked={this.state.useSterges}\r\n                                onChange={this.onUseStergesChange.bind(this)}\r\n                            />\r\n                            <label htmlFor=\"useSterges\">\r\n                                Использовать критерий Стёрджеса\r\n                            </label>\r\n                        </div>\r\n                        <div>\r\n                            <label\r\n                                htmlFor=\"intervalsCount\"\r\n                                className={\r\n                                    this.state.useSterges\r\n                                        ? 'form-label m-0 text-black-50'\r\n                                        : 'form-label m-0'\r\n                                }\r\n                            >\r\n                                Количество разбиений:{' '}\r\n                                <span>\r\n                                    {this.state.intervalCount ||\r\n                                        this.state.defaultIntervalCountValue}\r\n                                </span>\r\n                            </label>\r\n                            <input\r\n                                type=\"range\"\r\n                                className=\"form-range\"\r\n                                min=\"5\"\r\n                                max=\"25\"\r\n                                step=\"1\"\r\n                                id=\"intervalsCount\"\r\n                                value={\r\n                                    this.state.intervalCount ||\r\n                                    this.state.defaultIntervalCountValue\r\n                                }\r\n                                disabled={this.state.useSterges}\r\n                                onChange={(e) => this.onIntervalCountChange(e)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5 d-flex flex-column justify-content-between\">\r\n                        <h5 className=\"mb-4\">Отношение предпочтения</h5>\r\n                        <div class=\"\">\r\n                            <label for=\"beta\" class=\"form-label m-0\">\r\n                                Значение: <span>{this.state.beta}</span>\r\n                            </label>\r\n                            <input\r\n                                type=\"range\"\r\n                                class=\"form-range\"\r\n                                min=\"0.1\"\r\n                                max=\"0.9\"\r\n                                step=\"0.1\"\r\n                                id=\"beta\"\r\n                                value={this.state.beta}\r\n                                onChange={(e) => this.onBetaChange(e)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-around\">\r\n                    <div className=\"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5 d-flex flex-column justify-content-between\">\r\n                        <h5 className=\"mb-4\">\r\n                            Значение доверительной вероятности для критериев VaR\r\n                            и CVaR\r\n                        </h5>\r\n                        <div className=\"btn-group d-flex\">\r\n                            {[0.99, 0.95, 0.9].map((a) => {\r\n                                let className =\r\n                                    a == this.state.alpha\r\n                                        ? 'btn btn-primary'\r\n                                        : 'btn btn-outline-primary';\r\n                                return (\r\n                                    <button\r\n                                        className={className}\r\n                                        onClick={() => this.onAlphaChange(a)}\r\n                                    >\r\n                                        {a}\r\n                                    </button>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5 d-flex flex-column justify-content-between\">\r\n                        <h5 className=\"mb-4\">\r\n                            Значение порядка для левостороннего и стандартного\r\n                            левостороннего моментов\r\n                        </h5>\r\n                        <div class=\"\">\r\n                            <label for=\"momentI\" class=\"form-label m-0\">\r\n                                Значение: <span>{this.state.momentI}</span>\r\n                            </label>\r\n                            <input\r\n                                type=\"range\"\r\n                                class=\"form-range\"\r\n                                min=\"2\"\r\n                                max=\"10\"\r\n                                step=\"1\"\r\n                                id=\"momentI\"\r\n                                value={this.state.momentI}\r\n                                onChange={(e) => this.onMomentIChange(e)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SetUpParams;\r\n","import React from 'react';\r\n\r\nfunction Risk({ fundsRisks }) {\r\n    return (\r\n        <div>\r\n            <div className=\"table-responsive\">\r\n                <table className=\"table table-striped table-hover word-break-break-all\">\r\n                    <thead className=\"table-primary\">\r\n                        <tr>\r\n                            <th></th>\r\n                            <th>Дисперсия</th>\r\n                            <th>СКО</th>\r\n                            <th className=\"word-break-keep-all\">VaR</th>\r\n                            <th className=\"word-break-keep-all\">CVaR</th>\r\n                            <th>Левосторонний момент</th>\r\n                            <th>Стандартный левосторонний момент</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {fundsRisks.map((r, i) => {\r\n                            return (\r\n                                <tr key={i}>\r\n                                    <th>{r.name}</th>\r\n                                    <td>{r.disp}</td>\r\n                                    <td>{r.sko}</td>\r\n                                    <td>{r.varr}</td>\r\n                                    <td>{r.cvar}</td>\r\n                                    <td>{r.moment}</td>\r\n                                    <td>{r.stdMoment}</td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Risk;\r\n","import React from 'react';\r\n\r\nfunction Yield({ fundsYields }) {\r\n    return (\r\n        <div>\r\n            <div className=\"table-responsive\">\r\n                <table className=\"table table-striped table-hover word-break-break-all\">\r\n                    <thead class=\"table-primary\">\r\n                        <tr>\r\n                            <th></th>\r\n                            <th>Математическое ожидание</th>\r\n                            <th>Ожидаемая полезность</th>\r\n                            <th>Взвешенная полезность</th>\r\n                            <th>Ранговая полезность</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {fundsYields.map((r, i) => {\r\n                            return (\r\n                                <tr key={i}>\r\n                                    <th>{r.name}</th>\r\n                                    <td>{r.mo}</td>\r\n                                    <td>{r.ojid}</td>\r\n                                    <td>{r.vzv}</td>\r\n                                    <td>{r.rang}</td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Yield;\r\n","import React from 'react';\r\nimport Decimal from 'decimal.js';\r\n\r\nclass BestChoice extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            riskMeasures: [\r\n                { name: 'disp', title: 'Дисперсия' },\r\n                { name: 'sko', title: 'СКО' },\r\n                { name: 'varr', title: 'VaR' },\r\n                { name: 'cvar', title: 'CVaR' },\r\n                { name: 'moment', title: 'Левосторонний момент' },\r\n                {\r\n                    name: 'stdMoment',\r\n                    title: 'Стандартный левосторонний момент',\r\n                },\r\n            ],\r\n            yieldMeasures: [\r\n                { name: 'mo', title: 'Математическое ожидание' },\r\n                { name: 'ojid', title: 'Ожидаемая полезность' },\r\n                { name: 'vzv', title: 'Взвешенная полезность' },\r\n                { name: 'rang', title: 'Ранговая полезность' },\r\n            ],\r\n            activeRisk: 'disp',\r\n            activeYield: 'mo',\r\n            rangeByCriteria: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            rangeByCriteria: this.createRage(\r\n                this.state.activeRisk,\r\n                this.state.activeYield\r\n            ),\r\n        });\r\n    }\r\n\r\n    createRage(activeRisk, activeYield) {\r\n        let risks = this.props.risks.map((r) => ({\r\n                id: r.id,\r\n                name: r.name,\r\n                value: r[activeRisk],\r\n            })),\r\n            yields = this.props.yields.map((r) => ({\r\n                id: r.id,\r\n                name: r.name,\r\n                value: r[activeYield],\r\n            }));\r\n        let riskYield = risks.map((r, i) => {\r\n            let y = yields[i];\r\n            if (r.id != y.id) {\r\n                y = yields.find((yd) => yd.id == r.id);\r\n            }\r\n            let criteriaD = Decimal(this.props.beta)\r\n                .times(y.value)\r\n                .minus(\r\n                    Decimal(Decimal(1).minus(this.props.beta)).times(r.value)\r\n                );\r\n            return {\r\n                name: r.name,\r\n                criteria: criteriaD.toNumber(),\r\n            };\r\n        });\r\n\r\n        return riskYield.sort((a, b) =>\r\n            Decimal(b.criteria).comparedTo(Decimal(a.criteria))\r\n        );\r\n    }\r\n\r\n    onRiskChange(name) {\r\n        this.setState({\r\n            activeRisk: name,\r\n            rangeByCriteria: this.createRage(name, this.state.activeYield),\r\n        });\r\n    }\r\n\r\n    onYieldChange(name) {\r\n        this.setState({\r\n            activeYield: name,\r\n            rangeByCriteria: this.createRage(this.state.activeRisk, name),\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    <h5 className=\"mb-4\">Меры риска</h5>\r\n                    <div className=\"list-group\">\r\n                        {this.state.riskMeasures.map((r, i) => {\r\n                            const activeClass =\r\n                                r.name === this.state.activeRisk\r\n                                    ? ' list-group-item-secondary fw-bold'\r\n                                    : '';\r\n                            return (\r\n                                <button\r\n                                    key={i}\r\n                                    className={\r\n                                        'list-group-item list-group-item-action' +\r\n                                        activeClass\r\n                                    }\r\n                                    onClick={() => {\r\n                                        this.onRiskChange(r.name);\r\n                                    }}\r\n                                >\r\n                                    {r.title}\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-3\">\r\n                    <h5 className=\"mb-4\">Меры доходности</h5>\r\n                    <div className=\"list-group\">\r\n                        {this.state.yieldMeasures.map((y, i) => {\r\n                            const activeClass =\r\n                                y.name === this.state.activeYield\r\n                                    ? ' list-group-item-secondary fw-bold'\r\n                                    : '';\r\n                            return (\r\n                                <button\r\n                                    key={i}\r\n                                    className={\r\n                                        'list-group-item list-group-item-action' +\r\n                                        activeClass\r\n                                    }\r\n                                    onClick={() => {\r\n                                        this.onYieldChange(y.name);\r\n                                    }}\r\n                                >\r\n                                    {y.title}\r\n                                </button>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <h5 className=\"mb-4\">Результат</h5>\r\n                    <table className=\"table\">\r\n                        <thead className=\"table-primary\">\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>ПИФ</th>\r\n                                <th>Значение критерия</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.rangeByCriteria.map((item, i) => {\r\n                                return (\r\n                                    <tr key={i}>\r\n                                        <td>{i + 1}</td>\r\n                                        <td>{item.name}</td>\r\n                                        <td>{item.criteria}</td>\r\n                                    </tr>\r\n                                );\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BestChoice;\r\n","import React from 'react';\r\nimport s from './Page.module.scss';\r\n\r\nexport default function ({ initialized, title, renderComponent }) {\r\n    return (\r\n        <div className={s.page}>\r\n            <h1 className={s.title}>{title}</h1>\r\n            {(() => {\r\n                if (initialized) {\r\n                    return renderComponent();\r\n                } else {\r\n                    return (\r\n                        <div>\r\n                            <p className={s.noDataMessage}>\r\n                                <i className=\"fas fa-exclamation-triangle\"></i>\r\n                                <span>\r\n                                    Для начала работы необходимо загрузить\r\n                                    данные\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n                    );\r\n                }\r\n            })()}\r\n        </div>\r\n    );\r\n}\r\n","import Decimal from 'decimal.js';\r\n\r\nconst calculateDisperDecimal = (randomVar) => {\r\n    const MOs = randomVar.reduce(\r\n        ({ mo, mo2 }, rv) => {\r\n            const x2p = Decimal(rv.x).pow(2).mul(rv.p),\r\n                xp = Decimal(rv.x).mul(rv.p);\r\n            return {\r\n                mo: mo.plus(xp),\r\n                mo2: mo2.plus(x2p),\r\n            };\r\n        },\r\n        { mo: new Decimal(0), mo2: new Decimal(0) }\r\n    );\r\n\r\n    return MOs.mo2.sub(MOs.mo.pow(2));\r\n};\r\n\r\nexport default function (randomVar) {\r\n    const disper = calculateDisperDecimal(randomVar);\r\n    const sko = disper.sqrt();\r\n    return {\r\n        disper: disper.toNumber(),\r\n        sko: sko.toNumber(),\r\n    };\r\n}\r\n","import Decimal from 'decimal.js';\r\n\r\nexport default function (randomVar) {\r\n    return randomVar\r\n        .reduce((sumDecimal, rv) => {\r\n            const mul = Decimal(rv.p).times(Decimal(rv.x));\r\n            return sumDecimal.plus(mul);\r\n        }, new Decimal(0))\r\n        .toNumber();\r\n}\r\n","import Decimal from 'decimal.js';\r\n\r\nconst moment = (randomVar, mo, coeff) => {\r\n    return randomVar.reduce((sumDec, rv) => {\r\n        const subDec = Decimal(mo).sub(rv.x),\r\n            zeroDec = new Decimal(0),\r\n            pDec = new Decimal(rv.p);\r\n        const argDec = subDec.comparedTo(zeroDec) > 0 ? subDec : zeroDec;\r\n        return sumDec.plus(pDec.mul(argDec.pow(coeff)));\r\n    }, new Decimal(0));\r\n};\r\n\r\nexport default function (randomVar, mo, coeff) {\r\n    const momentDecimal = moment(randomVar, mo, coeff);\r\n    const standMomentDecimal = momentDecimal.pow(Decimal(1).div(coeff));\r\n    return {\r\n        moment: momentDecimal.toNumber(),\r\n        standMoment: standMomentDecimal.toNumber(),\r\n    };\r\n}\r\n","import Decimal from 'decimal.js';\r\n\r\nconst calculateVarDecimal = (randomVar, alpha) => {\r\n    let probSumD = new Decimal(randomVar[0].p),\r\n        xD = new Decimal(randomVar[0].x),\r\n        alphaD = Decimal(1).minus(Decimal(alpha));\r\n    for (let i = 0; i < randomVar.length; i++) {\r\n        let nextProbSumD = probSumD.plus(Decimal(randomVar[i].p)),\r\n            nextXD = Decimal(randomVar[i].x);\r\n        if (nextProbSumD.comparedTo(alphaD) > 0) {\r\n            return xD;\r\n        } else {\r\n            probSumD = nextProbSumD;\r\n            xD = nextXD;\r\n        }\r\n    }\r\n};\r\n\r\nconst calculateCvarDecimal = (randomVar, varD) => {\r\n    let mo = new Decimal(0);\r\n    for (let i = 0; i < randomVar.length; i++) {\r\n        let xiD = new Decimal(randomVar[i].x),\r\n            piD = new Decimal(randomVar[i].p);\r\n        if (xiD.comparedTo(varD) < 0) {\r\n            mo = mo.plus(xiD.times(piD));\r\n        } else {\r\n            return mo;\r\n        }\r\n    }\r\n};\r\n\r\nexport default function (randomVar, alpha) {\r\n    const varD = calculateVarDecimal(randomVar, alpha);\r\n    const cvarD = calculateCvarDecimal(randomVar, varD);\r\n    return {\r\n        varr: varD.toNumber(),\r\n        cvar: cvarD.toNumber(),\r\n    };\r\n}\r\n","import Decimal from 'decimal.js';\r\n\r\nconst utilityD = (x) => Decimal(x).pow(0.7);\r\n\r\nexport default function (randomVar) {\r\n    return randomVar\r\n        .reduce((moD, rv) => {\r\n            const uxD = utilityD(rv.x),\r\n                pD = new Decimal(rv.p);\r\n            return moD.plus(uxD.times(pD));\r\n        }, new Decimal(0))\r\n        .toNumber();\r\n}\r\n","import Decimal from 'decimal.js';\r\n\r\nconst a = 1,\r\n    b = 1;\r\n\r\nconst calcwxD = (x) => {\r\n    const q = Decimal(2).times(a).times(x),\r\n        p = Decimal(a).times(Decimal(x).pow(2));\r\n    return q.minus(p);\r\n};\r\n\r\nconst calcvxD = (x) => {\r\n    const l = Decimal(b).times(Decimal(x).pow(2)),\r\n        s = Decimal(2).times(b).times(x),\r\n        d = Decimal(2).times(b);\r\n    return l.minus(s).plus(d);\r\n};\r\n\r\nexport default function (randomVar) {\r\n    const MOs = randomVar.reduce(\r\n        ({ wD, vD }, rv) => {\r\n            const wxiD = calcwxD(rv.x),\r\n                vxiD = calcvxD(rv.x),\r\n                piD = new Decimal(rv.p);\r\n            return {\r\n                wD: wD.plus(wxiD.times(piD)),\r\n                vD: vD.plus(vxiD.times(piD)),\r\n            };\r\n        },\r\n        { wD: new Decimal(0), vD: new Decimal(0) }\r\n    );\r\n    return MOs.wD.dividedBy(MOs.vD).toNumber();\r\n}\r\n","import Decimal from 'decimal.js';\r\n\r\nconst gamma = 0.69;\r\n\r\nconst calcgpD = (pD) => {\r\n    const e1 = Decimal(Decimal(1).minus(pD)).pow(gamma);\r\n    const e2 = pD.pow(gamma).plus(e1);\r\n    const e3 = e2.pow(Decimal(1).div(gamma));\r\n\r\n    // const _e1 = e1.toNumber(),\r\n    //     _e2 = e2.toNumber(),\r\n    //     _e3 = e3.toNumber();\r\n\r\n    return Decimal(1).minus(e1.div(e3));\r\n};\r\n\r\nconst calcuxD = (xD) => xD.pow(0.7);\r\n\r\nconst calcDArrSum = (arrD) =>\r\n    arrD.reduce((sumD, a) => {\r\n        return sumD.plus(a);\r\n    }, new Decimal(0));\r\n\r\nexport default function (randomVar) {\r\n    const xsD = randomVar.map((rv) => new Decimal(rv.x)),\r\n        psD = randomVar.map((rv) => new Decimal(rv.p));\r\n    let sumD = calcuxD(xsD[0]).plus(calcgpD(psD[0]));\r\n\r\n    // const _xs = xsD.map((x) => x.toNumber()),\r\n    //     _ps = psD.map((p) => p.toNumber());\r\n\r\n    for (let i = 1; i < randomVar.length; i++) {\r\n        let psFirstD = psD.slice(0, i + 1),\r\n            psSecondD = psD.slice(0, i);\r\n\r\n        // let _psFirst = _ps.slice(0, i + 1),\r\n        //     _psSecond = _ps.slice(0, i);\r\n\r\n        let psFDSum = calcDArrSum(psFirstD),\r\n            psSDSum = calcDArrSum(psSecondD);\r\n\r\n        // let _psFSum = psFDSum.toNumber(),\r\n        //     _psSSum = psSDSum.toNumber();\r\n\r\n        let gpFirst = calcgpD(psFDSum),\r\n            gpSecond = calcgpD(psSDSum);\r\n\r\n        // let _grFirst = gpFirst.toNumber(),\r\n        //     _gpSecond = gpSecond.toNumber();\r\n\r\n        let uxi = calcuxD(xsD[i]);\r\n\r\n        // let _uxi = uxi.toNumber();\r\n\r\n        sumD = sumD.plus(uxi.times(gpFirst.minus(gpSecond)));\r\n    }\r\n\r\n    return sumD.toNumber();\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport LoadData from './LoadData/LoadData';\r\nimport SetUpParams from './SetUpParams/SetUpParams';\r\nimport Risk from './Risk/Risk';\r\nimport Yield from './Yield/Yield';\r\nimport BestChoice from './BestChoice/BestChoice';\r\nimport Page from './Page/Page';\r\nimport Decimal from 'decimal.js';\r\nimport disperSKO from '../../utils/disperSKO';\r\nimport mo from '../../utils/mo';\r\nimport moments from '../../utils/moments';\r\nimport varCvar from '../../utils/varCvar';\r\nimport ojidPol from '../../utils/ozhPol';\r\nimport vzvPol from '../../utils/vzvPol';\r\nimport rangPol from '../../utils/rangPol';\r\n\r\nclass Main extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            initialized: false,\r\n            sourceData: [], // [{id, name, yieldByDays: [{ Date, Value }]]\r\n            normalizedData: [], // [{id, name, values:[]}]\r\n            workData: [], // [{id, name, kEval, kUsing, intervalLen, randomVar:[x,p, entryCount]}]\r\n            alpha: 0.95,\r\n            beta: 0.5,\r\n            momentI: 2,\r\n            intervalCount: null,\r\n            risks: [], // [{id,name,varr,cvar,disp,sko,moment,stdMoment}]\r\n            yields: [], // [{id,name,mo,ojid,vzv,rang}]\r\n        };\r\n    }\r\n\r\n    _normalizeData(notNormalizeDataArr) {\r\n        const res = notNormalizeDataArr.map(({ id, name, yieldByDays }) => {\r\n            const onlyYields = yieldByDays\r\n                .map((ybd) => new Decimal(ybd.Value))\r\n                .sort((a, b) => a.sub(b).toNumber());\r\n\r\n            const min = onlyYields[0],\r\n                max = onlyYields[onlyYields.length - 1];\r\n\r\n            const normalized = onlyYields.map((y) => {\r\n                const ySubMin = y.sub(min),\r\n                    maxSubMin = max.sub(min);\r\n                const div = ySubMin.div(maxSubMin).toNumber();\r\n                return div;\r\n            });\r\n\r\n            return { id, name, values: normalized };\r\n        });\r\n        console.log(res);\r\n\r\n        return res;\r\n    }\r\n\r\n    _createWorkData(normalizedDataArr, defaultK = null) {\r\n        const res = normalizedDataArr.map(({ id, name, values }) => {\r\n            //1 + 3.22 * Math.log10(values.length);\r\n            const kEval = Decimal(1)\r\n                .plus(Decimal(3.22).mul(Decimal(values.length).log(10)))\r\n                .toNumber();\r\n            const kUsing = defaultK !== null ? defaultK : Math.ceil(kEval);\r\n            const intervalLen = 1 / kUsing;\r\n            const commonCount = values.length;\r\n            let randomVar = [];\r\n\r\n            for (\r\n                let i = 1,\r\n                    currX = new Decimal(0),\r\n                    nextX = new Decimal(intervalLen);\r\n                i <= kUsing;\r\n                i++,\r\n                    currX = currX.plus(intervalLen),\r\n                    nextX = nextX.plus(intervalLen)\r\n            ) {\r\n                let entryCount = (i === kUsing\r\n                    ? values.filter(\r\n                          (v) => v >= currX.toNumber() && v <= nextX.toNumber()\r\n                      )\r\n                    : values.filter(\r\n                          (v) => v >= currX.toNumber() && v < nextX.toNumber()\r\n                      )\r\n                ).length;\r\n\r\n                let x = currX.plus(nextX).div(2),\r\n                    p = entryCount / commonCount;\r\n\r\n                randomVar = randomVar.concat({\r\n                    x,\r\n                    p,\r\n                    entryCount,\r\n                });\r\n            }\r\n\r\n            return { id, name, kEval, kUsing, intervalLen, randomVar };\r\n        });\r\n        console.log(res);\r\n        return res;\r\n    }\r\n\r\n    _createRisks(workData, alpha, momentI) {\r\n        return workData.map((d) => {\r\n            const varCvarValues = varCvar(d.randomVar, alpha),\r\n                dispSkoValues = disperSKO(d.randomVar),\r\n                momentsValues = moments(d.randomVar, mo(d.randomVar), momentI);\r\n            return {\r\n                id: d.id,\r\n                name: d.name,\r\n                varr: varCvarValues.varr,\r\n                cvar: varCvarValues.cvar,\r\n                disp: dispSkoValues.disper,\r\n                sko: dispSkoValues.sko,\r\n                moment: momentsValues.moment,\r\n                stdMoment: momentsValues.standMoment,\r\n            };\r\n        });\r\n    }\r\n\r\n    _createYields(workData) {\r\n        return workData.map((d) => {\r\n            return {\r\n                id: d.id,\r\n                name: d.name,\r\n                mo: mo(d.randomVar),\r\n                ojid: ojidPol(d.randomVar),\r\n                vzv: vzvPol(d.randomVar),\r\n                rang: rangPol(d.randomVar),\r\n            };\r\n        });\r\n    }\r\n\r\n    onSourceDataLoaded(sourceData) {\r\n        const normalizedData = this._normalizeData(sourceData),\r\n            workData = this._createWorkData(normalizedData);\r\n\r\n        const risks = this._createRisks(\r\n                workData,\r\n                this.state.alpha,\r\n                this.state.momentI\r\n            ),\r\n            yields = this._createYields(workData);\r\n        this.setState({\r\n            sourceData,\r\n            normalizedData,\r\n            workData,\r\n            initialized: true,\r\n            risks,\r\n            yields,\r\n        });\r\n    }\r\n\r\n    onParamsChange({ alpha, beta, intervalCount, momentI }) {\r\n        let setStateObj = {};\r\n        if (intervalCount !== null) {\r\n            setStateObj.workData = this._createWorkData(\r\n                this.state.normalizedData,\r\n                intervalCount\r\n            );\r\n            setStateObj.intervalCount = intervalCount;\r\n        } else {\r\n            setStateObj.intervalCount = null;\r\n        }\r\n        setStateObj.risks = this._createRisks(\r\n            setStateObj.workData || this.state.workData,\r\n            alpha,\r\n            momentI\r\n        );\r\n        setStateObj.alpha = alpha;\r\n        setStateObj.momentI = momentI;\r\n\r\n        setStateObj.beta = beta;\r\n\r\n        this.setState(setStateObj);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Route\r\n                    path=\"/loaddata\"\r\n                    render={() => (\r\n                        <Page\r\n                            initialized={true}\r\n                            title=\"Исходные данные\"\r\n                            renderComponent={() => (\r\n                                <LoadData\r\n                                    onSourceDataLoaded={this.onSourceDataLoaded.bind(\r\n                                        this\r\n                                    )}\r\n                                    sourceData={this.state.sourceData}\r\n                                />\r\n                            )}\r\n                        />\r\n                    )}\r\n                />\r\n                <Route\r\n                    path=\"/setupparams\"\r\n                    render={() => (\r\n                        <Page\r\n                            initialized={this.state.initialized}\r\n                            title=\"Настройка параметров\"\r\n                            renderComponent={() => (\r\n                                <SetUpParams\r\n                                    alpha={this.state.alpha}\r\n                                    beta={this.state.beta}\r\n                                    intervalCount={this.state.intervalCount}\r\n                                    momentI={this.state.momentI}\r\n                                    onParamsChange={this.onParamsChange.bind(\r\n                                        this\r\n                                    )}\r\n                                />\r\n                            )}\r\n                        />\r\n                    )}\r\n                />\r\n                <Route\r\n                    path=\"/risk\"\r\n                    render={() => (\r\n                        <Page\r\n                            initialized={this.state.initialized}\r\n                            title=\"Оценка риска\"\r\n                            renderComponent={() => (\r\n                                <Risk fundsRisks={this.state.risks} />\r\n                            )}\r\n                        />\r\n                    )}\r\n                />\r\n                <Route\r\n                    path=\"/yield\"\r\n                    render={() => (\r\n                        <Page\r\n                            initialized={this.state.initialized}\r\n                            title=\"Оценка доходности\"\r\n                            renderComponent={() => (\r\n                                <Yield fundsYields={this.state.yields} />\r\n                            )}\r\n                        />\r\n                    )}\r\n                />\r\n                <Route\r\n                    path=\"/bestchoice\"\r\n                    render={() => (\r\n                        <Page\r\n                            initialized={this.state.initialized}\r\n                            title=\"Выбор наилучшего ПИФа\"\r\n                            renderComponent={() => (\r\n                                <BestChoice\r\n                                    risks={this.state.risks}\r\n                                    yields={this.state.yields}\r\n                                    beta={this.state.beta}\r\n                                />\r\n                            )}\r\n                        />\r\n                    )}\r\n                />\r\n                <Redirect exact from=\"/\" to=\"/loaddata\" />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport './App.scss';\nimport Navigation from '../Navigation/Navigation';\nimport Home from '../Home/Home';\n\nfunction App() {\n    return (\n        <div className=\"container-fluid g-0 h-100\">\n            <div className=\"h-100 d-flex\">\n                <aside className=\"nav\">\n                    <Navigation />\n                </aside>\n                <main className=\"main flex-grow-1\">\n                    <Home />\n                </main>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}