(this["webpackJsonpmutual-funds"]=this["webpackJsonpmutual-funds"]||[]).push([[0],{17:function(e,t,a){e.exports={page:"Page_page__146k3",title:"Page_title__ZiG-O",noDataMessage:"Page_noDataMessage__1Y8E4"}},26:function(e,t){},29:function(e,t,a){e.exports={sourceDataWrapper:"LoadData_sourceDataWrapper__1WuP-"}},3:function(e,t,a){e.exports={navigation:"Navigation_navigation__2PFZj",section:"Navigation_section__30btk",sectionName:"Navigation_sectionName__3Ah9f",list:"Navigation_list__2v2G0",listItem:"Navigation_listItem__1UBFz",link:"Navigation_link__1uVNA",active:"Navigation_active__29Q1g",disabled:"Navigation_disabled__2mllI"}},36:function(e,t,a){},39:function(e,t,a){},49:function(e,t){},50:function(e,t){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),i=a.n(s),r=a(27),c=a.n(r),l=(a(36),a(37),a(38),a(39),a(3)),o=a.n(l),u=a(13),d=function(){return Object(n.jsxs)("div",{className:o.a.navigation,children:[Object(n.jsxs)("section",{className:o.a.section,children:[Object(n.jsx)("p",{className:o.a.sectionName,children:"\u0414\u0430\u043d\u043d\u044b\u0435"}),Object(n.jsx)("ul",{className:o.a.list,children:Object(n.jsx)("li",{className:o.a.listItem,children:Object(n.jsxs)(u.b,{to:"/loaddata",className:o.a.link,activeClassName:o.a.active,children:[Object(n.jsx)("i",{className:"fas fa-file-upload"}),Object(n.jsx)("span",{children:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})})})]}),Object(n.jsxs)("section",{className:o.a.section,children:[Object(n.jsx)("p",{className:o.a.sectionName,children:"\u0420\u0430\u0441\u0447\u0435\u0442\u044b"}),Object(n.jsxs)("ul",{className:o.a.list,children:[Object(n.jsx)("li",{className:o.a.listItem,children:Object(n.jsxs)(u.b,{to:"/setupparams",className:o.a.link,activeClassName:o.a.active,children:[Object(n.jsx)("i",{className:"fas fa-sliders-h"}),Object(n.jsx)("span",{children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"})]})}),Object(n.jsx)("li",{className:o.a.listItem,children:Object(n.jsxs)(u.b,{to:"/risk",className:o.a.link,activeClassName:o.a.active,children:[Object(n.jsx)("i",{className:"fas fa-arrow-down"}),Object(n.jsx)("span",{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0440\u0438\u0441\u043a\u0430"})]})}),Object(n.jsx)("li",{className:o.a.listItem,children:Object(n.jsxs)(u.b,{to:"/yield",className:o.a.link,activeClassName:o.a.active,children:[Object(n.jsx)("i",{className:"fas fa-arrow-up"}),Object(n.jsx)("span",{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u0438"})]})}),Object(n.jsx)("li",{className:o.a.listItem,children:Object(n.jsxs)(u.b,{to:"/bestchoice",className:o.a.link,activeClassName:o.a.active,children:[Object(n.jsx)("i",{className:"fas fa-check"}),Object(n.jsx)("span",{children:"\u0412\u044b\u0431\u043e\u0440 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u041f\u0418\u0424\u0430"})]})})]})]})]})},m=a(8),j=a(9),h=a(11),b=a(10),p=a(4),v=a(29),x=a.n(v),f=a(23),O=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(j.a)(a,[{key:"onFileChange",value:function(e){new Promise((function(t,a){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var a=e.target.result,n=f.read(a,{type:"buffer",cellDates:!0}),s=n.SheetNames.map((function(e,t){var a=n.Sheets[e];return{id:t,name:e,yieldByDays:f.utils.sheet_to_json(a)}}));t(s)},n.onerror=function(e){return a(e)}})).then(this.props.onSourceDataInitialize).catch()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"btn-group",children:[Object(n.jsx)("label",{htmlFor:"loadFile",className:"btn btn-primary btn-sm",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(n.jsx)("input",{id:"loadFile",onChange:function(t){e.onFileChange(t.target.files[0])},className:"d-none",type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),Object(n.jsx)("a",{href:"./xlsx/EmptyTemplate.xlsx",className:"btn btn-light btn-sm",children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d"}),Object(n.jsx)("a",{href:"./xlsx/DataTemplate.xlsx",className:"btn btn-light btn-sm",children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d"})]})}}]),a}(i.a.Component),g=a(30),N=a.n(g),k=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={currentId:0},n}return Object(j.a)(a,[{key:"onChangeId",value:function(e){e!==this.state.currentId&&this.setState({currentId:e})}},{key:"render",value:function(){var e=this,t=this.props.funds.find((function(t,a){return a===e.state.currentId})).yieldByDays;return Object(n.jsxs)("div",{className:"row mt-5",children:[Object(n.jsx)("div",{className:"col-12 col-md-4 col-xl-3 col-xxl-2",children:Object(n.jsx)("div",{className:"list-group",children:this.props.funds.map((function(t,a){var s=a===e.state.currentId?" list-group-item-secondary fw-bold":"";return Object(n.jsx)("button",{className:"list-group-item list-group-item-action"+s,onClick:function(){e.onChangeId(a)},children:t.name},a)}))})}),Object(n.jsx)("div",{className:"col-12 col-md-8 col-xl-9 col-xxl-10",children:Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),Object(n.jsx)("th",{children:"\u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:N()(e.Date).format("DD.MM.YYYY")}),Object(n.jsx)("td",{children:e.Value})]},t)}))})]})})]})}}]),a}(i.a.Component),C=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(m.a)(this,a),t.call(this,e)}return Object(j.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:x.a.sourceDataWrapper,children:[Object(n.jsx)(O,{onSourceDataInitialize:this.props.onSourceDataLoaded}),function(){if(e.props.sourceData.length)return Object(n.jsx)(k,{funds:e.props.sourceData})}()]})}}]),a}(i.a.Component),y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={change:!1,alpha:n.props.alpha,beta:n.props.beta,momentI:n.props.momentI,useSterges:null==n.props.intervalCount,intervalCount:n.props.intervalCount,defaultIntervalCountValue:5},n}return Object(j.a)(a,[{key:"onApplyButtonClick",value:function(){this.props.onParamsChange({alpha:this.state.alpha,beta:this.state.beta,intervalCount:this.state.intervalCount,momentI:this.state.momentI}),this.setState({change:!1})}},{key:"onUseStergesChange",value:function(){var e=!this.state.useSterges,t=e?null:this.state.defaultIntervalCountValue;this.setState({useSterges:e,intervalCount:t,change:this.checkChange({intervalCount:t})})}},{key:"onIntervalCountChange",value:function(e){this.setState({intervalCount:e.target.value,change:this.checkChange({intervalCount:e.target.value})})}},{key:"onBetaChange",value:function(e){this.setState({beta:e.target.value,change:this.checkChange({beta:e.target.value})})}},{key:"onAlphaChange",value:function(e){this.setState({alpha:e,change:this.checkChange({alpha:e})})}},{key:"onMomentIChange",value:function(e){this.setState({momentI:e.target.value,change:this.checkChange({momentI:e.target.value})})}},{key:"checkChange",value:function(e){var t=e.alpha,a=void 0===t?this.state.alpha:t,n=e.beta,s=void 0===n?this.state.beta:n,i=e.momentI,r=void 0===i?this.state.momentI:i,c=e.intervalCount,l=void 0===c?this.state.intervalCount:c;return!(a==this.props.alpha&&s==this.props.beta&&r==this.props.momentI&&l==this.props.intervalCount)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"",children:Object(n.jsx)("button",{className:"btn btn-primary btn-sm",onClick:this.onApplyButtonClick.bind(this),disabled:!this.state.change,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(n.jsxs)("div",{className:"row justify-content-around",children:[Object(n.jsxs)("div",{className:"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5",children:[Object(n.jsx)("h5",{className:"mb-4",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0437\u0431\u0438\u0435\u043d\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0440\u044f\u0434\u0430"}),Object(n.jsxs)("div",{class:"d-flex align-items-center mb-3",children:[Object(n.jsx)("input",{type:"checkbox",id:"useSterges",class:"me-2 d-inline-block",defaultChecked:this.state.useSterges,onChange:this.onUseStergesChange.bind(this)}),Object(n.jsx)("label",{htmlFor:"useSterges",children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439 \u0421\u0442\u0451\u0440\u0434\u0436\u0435\u0441\u0430"})]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("label",{htmlFor:"intervalsCount",className:this.state.useSterges?"form-label m-0 text-black-50":"form-label m-0",children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0437\u0431\u0438\u0435\u043d\u0438\u0439:"," ",Object(n.jsx)("span",{children:this.state.intervalCount||this.state.defaultIntervalCountValue})]}),Object(n.jsx)("input",{type:"range",className:"form-range",min:"5",max:"25",step:"1",id:"intervalsCount",value:this.state.intervalCount||this.state.defaultIntervalCountValue,disabled:this.state.useSterges,onChange:function(t){return e.onIntervalCountChange(t)}})]})]}),Object(n.jsxs)("div",{className:"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5 d-flex flex-column justify-content-between",children:[Object(n.jsx)("h5",{className:"mb-4",children:"\u041e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f"}),Object(n.jsxs)("div",{class:"",children:[Object(n.jsxs)("label",{for:"beta",class:"form-label m-0",children:["\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",Object(n.jsx)("span",{children:this.state.beta})]}),Object(n.jsx)("input",{type:"range",class:"form-range",min:"0.1",max:"0.9",step:"0.1",id:"beta",value:this.state.beta,onChange:function(t){return e.onBetaChange(t)}})]})]})]}),Object(n.jsxs)("div",{class:"row justify-content-around",children:[Object(n.jsxs)("div",{className:"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5 d-flex flex-column justify-content-between",children:[Object(n.jsx)("h5",{className:"mb-4",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u0432\u0435\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0435\u0432 VaR \u0438 CVaR"}),Object(n.jsx)("div",{className:"btn-group d-flex",children:[.99,.95,.9].map((function(t){var a=t==e.state.alpha?"btn btn-primary":"btn btn-outline-primary";return Object(n.jsx)("button",{className:a,onClick:function(){return e.onAlphaChange(t)},children:t})}))})]}),Object(n.jsxs)("div",{className:"col-12 col-lg-6 col-xl-4 col-xxl-3 my-5 py-5 d-flex flex-column justify-content-between",children:[Object(n.jsx)("h5",{className:"mb-4",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u0440\u044f\u0434\u043a\u0430 \u0434\u043b\u044f \u043b\u0435\u0432\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0433\u043e \u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u043b\u0435\u0432\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0433\u043e \u043c\u043e\u043c\u0435\u043d\u0442\u043e\u0432"}),Object(n.jsxs)("div",{class:"",children:[Object(n.jsxs)("label",{for:"momentI",class:"form-label m-0",children:["\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",Object(n.jsx)("span",{children:this.state.momentI})]}),Object(n.jsx)("input",{type:"range",class:"form-range",min:"2",max:"10",step:"1",id:"momentI",value:this.state.momentI,onChange:function(t){return e.onMomentIChange(t)}})]})]})]})]})}}]),a}(i.a.Component);var w=function(e){var t=e.fundsRisks;return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{className:"table table-striped table-hover word-break-break-all",children:[Object(n.jsx)("thead",{className:"table-primary",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:"\u0414\u0438\u0441\u043f\u0435\u0440\u0441\u0438\u044f"}),Object(n.jsx)("th",{children:"\u0421\u041a\u041e"}),Object(n.jsx)("th",{className:"word-break-keep-all",children:"VaR"}),Object(n.jsx)("th",{className:"word-break-keep-all",children:"CVaR"}),Object(n.jsx)("th",{children:"\u041b\u0435\u0432\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442"}),Object(n.jsx)("th",{children:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043b\u0435\u0432\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:e.name}),Object(n.jsx)("td",{children:e.disp}),Object(n.jsx)("td",{children:e.sko}),Object(n.jsx)("td",{children:e.varr}),Object(n.jsx)("td",{children:e.cvar}),Object(n.jsx)("td",{children:e.moment}),Object(n.jsx)("td",{children:e.stdMoment})]},t)}))})]})})})};var D=function(e){var t=e.fundsYields;return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"table-responsive",children:Object(n.jsxs)("table",{className:"table table-striped table-hover word-break-break-all",children:[Object(n.jsx)("thead",{class:"table-primary",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"}),Object(n.jsx)("th",{children:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u0430\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u043e\u0441\u0442\u044c"}),Object(n.jsx)("th",{children:"\u0412\u0437\u0432\u0435\u0448\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u043e\u0441\u0442\u044c"}),Object(n.jsx)("th",{children:"\u0420\u0430\u043d\u0433\u043e\u0432\u0430\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u043e\u0441\u0442\u044c"})]})}),Object(n.jsx)("tbody",{children:t.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:e.name}),Object(n.jsx)("td",{children:e.mo}),Object(n.jsx)("td",{children:e.ojid}),Object(n.jsx)("td",{children:e.vzv}),Object(n.jsx)("td",{children:e.rang})]},t)}))})]})})})},_=a(2),I=a.n(_),S=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={riskMeasures:[{name:"disp",title:"\u0414\u0438\u0441\u043f\u0435\u0440\u0441\u0438\u044f"},{name:"sko",title:"\u0421\u041a\u041e"},{name:"varr",title:"VaR"},{name:"cvar",title:"CVaR"},{name:"moment",title:"\u041b\u0435\u0432\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442"},{name:"stdMoment",title:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043b\u0435\u0432\u043e\u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442"}],yieldMeasures:[{name:"mo",title:"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435"},{name:"ojid",title:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u0430\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u043e\u0441\u0442\u044c"},{name:"vzv",title:"\u0412\u0437\u0432\u0435\u0448\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u043e\u0441\u0442\u044c"},{name:"rang",title:"\u0420\u0430\u043d\u0433\u043e\u0432\u0430\u044f \u043f\u043e\u043b\u0435\u0437\u043d\u043e\u0441\u0442\u044c"}],activeRisk:"disp",activeYield:"mo",rangeByCriteria:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.setState({rangeByCriteria:this.createRage(this.state.activeRisk,this.state.activeYield)})}},{key:"createRage",value:function(e,t){var a=this,n=this.props.risks.map((function(t){return{id:t.id,name:t.name,value:t[e]}})),s=this.props.yields.map((function(e){return{id:e.id,name:e.name,value:e[t]}}));return n.map((function(e,t){var n=s[t];e.id!=n.id&&(n=s.find((function(t){return t.id==e.id})));var i=I()(a.props.beta).times(n.value).minus(I()(I()(1).minus(a.props.beta)).times(e.value));return{name:e.name,criteria:i.toNumber()}})).sort((function(e,t){return I()(t.criteria).comparedTo(I()(e.criteria))}))}},{key:"onRiskChange",value:function(e){this.setState({activeRisk:e,rangeByCriteria:this.createRage(e,this.state.activeYield)})}},{key:"onYieldChange",value:function(e){this.setState({activeYield:e,rangeByCriteria:this.createRage(this.state.activeRisk,e)})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-3",children:[Object(n.jsx)("h5",{className:"mb-4",children:"\u041c\u0435\u0440\u044b \u0440\u0438\u0441\u043a\u0430"}),Object(n.jsx)("div",{className:"list-group",children:this.state.riskMeasures.map((function(t,a){var s=t.name===e.state.activeRisk?" list-group-item-secondary fw-bold":"";return Object(n.jsx)("button",{className:"list-group-item list-group-item-action"+s,onClick:function(){e.onRiskChange(t.name)},children:t.title},a)}))})]}),Object(n.jsxs)("div",{className:"col-3",children:[Object(n.jsx)("h5",{className:"mb-4",children:"\u041c\u0435\u0440\u044b \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u0438"}),Object(n.jsx)("div",{className:"list-group",children:this.state.yieldMeasures.map((function(t,a){var s=t.name===e.state.activeYield?" list-group-item-secondary fw-bold":"";return Object(n.jsx)("button",{className:"list-group-item list-group-item-action"+s,onClick:function(){e.onYieldChange(t.name)},children:t.title},a)}))})]}),Object(n.jsxs)("div",{className:"col-6",children:[Object(n.jsx)("h5",{className:"mb-4",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"table-primary",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"#"}),Object(n.jsx)("th",{children:"\u041f\u0418\u0424"}),Object(n.jsx)("th",{children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f"})]})}),Object(n.jsx)("tbody",{children:this.state.rangeByCriteria.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t+1}),Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.criteria})]},t)}))})]})]})]})}}]),a}(i.a.Component),z=a(17),R=a.n(z),V=function(e){var t=e.initialized,a=e.title,s=e.renderComponent;return Object(n.jsxs)("div",{className:R.a.page,children:[Object(n.jsx)("h1",{className:R.a.title,children:a}),t?s():Object(n.jsx)("div",{children:Object(n.jsxs)("p",{className:R.a.noDataMessage,children:[Object(n.jsx)("i",{className:"fas fa-exclamation-triangle"}),Object(n.jsx)("span",{children:"\u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})]})})]})},M=function(e){var t=function(e){var t=e.reduce((function(e,t){var a=e.mo,n=e.mo2,s=I()(t.x).pow(2).mul(t.p),i=I()(t.x).mul(t.p);return{mo:a.plus(i),mo2:n.plus(s)}}),{mo:new I.a(0),mo2:new I.a(0)});return t.mo2.sub(t.mo.pow(2))}(e),a=t.sqrt();return{disper:t.toNumber(),sko:a.toNumber()}},B=function(e){return e.reduce((function(e,t){var a=I()(t.p).times(I()(t.x));return e.plus(a)}),new I.a(0)).toNumber()},Y=function(e,t,a){var n=function(e,t,a){return e.reduce((function(e,n){var s=I()(t).sub(n.x),i=new I.a(0),r=new I.a(n.p),c=s.comparedTo(i)>0?s:i;return e.plus(r.mul(c.pow(a)))}),new I.a(0))}(e,t,a),s=n.pow(I()(1).div(a));return{moment:n.toNumber(),standMoment:s.toNumber()}},F=function(e,t){var a=function(e,t){for(var a=new I.a(e[0].p),n=new I.a(e[0].x),s=I()(1).minus(I()(t)),i=0;i<e.length;i++){var r=a.plus(I()(e[i].p)),c=I()(e[i].x);if(r.comparedTo(s)>0)return n;a=r,n=c}}(e,t),n=function(e,t){for(var a=new I.a(0),n=0;n<e.length;n++){var s=new I.a(e[n].x),i=new I.a(e[n].p);if(!(s.comparedTo(t)<0))return a;a=a.plus(s.times(i))}}(e,a);return{varr:a.toNumber(),cvar:n.toNumber()}},P=function(e){return e.reduce((function(e,t){var a,n=(a=t.x,I()(a).pow(.7)),s=new I.a(t.p);return e.plus(n.times(s))}),new I.a(0)).toNumber()},A=function(e){var t=e.reduce((function(e,t){var a=e.wD,n=e.vD,s=function(e){var t=I()(2).times(1).times(e),a=I()(1).times(I()(e).pow(2));return t.minus(a)}(t.x),i=function(e){var t=I()(1).times(I()(e).pow(2)),a=I()(2).times(1).times(e),n=I()(2).times(1);return t.minus(a).plus(n)}(t.x),r=new I.a(t.p);return{wD:a.plus(s.times(r)),vD:n.plus(i.times(r))}}),{wD:new I.a(0),vD:new I.a(0)});return t.wD.dividedBy(t.vD).toNumber()},W=.69,L=function(e){var t=I()(I()(1).minus(e)).pow(W),a=e.pow(W).plus(t).pow(I()(1).div(W));return I()(1).minus(t.div(a))},T=function(e){return e.pow(.7)},E=function(e){return e.reduce((function(e,t){return e.plus(t)}),new I.a(0))},U=function(e){for(var t=e.map((function(e){return new I.a(e.x)})),a=e.map((function(e){return new I.a(e.p)})),n=T(t[0]).plus(L(a[0])),s=1;s<e.length;s++){var i=a.slice(0,s+1),r=a.slice(0,s),c=E(i),l=E(r),o=L(c),u=L(l),d=T(t[s]);n=n.plus(d.times(o.minus(u)))}return n.toNumber()},G=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={initialized:!1,sourceData:[],normalizedData:[],workData:[],alpha:.95,beta:.5,momentI:2,intervalCount:null,risks:[],yields:[]},n}return Object(j.a)(a,[{key:"_normalizeData",value:function(e){var t=e.map((function(e){var t=e.id,a=e.name,n=e.yieldByDays.map((function(e){return new I.a(e.Value)})).sort((function(e,t){return e.sub(t).toNumber()})),s=n[0],i=n[n.length-1];return{id:t,name:a,values:n.map((function(e){var t=e.sub(s),a=i.sub(s);return t.div(a).toNumber()}))}}));return console.log(t),t}},{key:"_createWorkData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.map((function(e){for(var a=e.id,n=e.name,s=e.values,i=I()(1).plus(I()(3.22).mul(I()(s.length).log(10))).toNumber(),r=null!==t?t:Math.ceil(i),c=1/r,l=s.length,o=[],u=function(e,t,a){var n=(e===r?s.filter((function(e){return e>=t.toNumber()&&e<=a.toNumber()})):s.filter((function(e){return e>=t.toNumber()&&e<a.toNumber()}))).length,i=t.plus(a).div(2),c=n/l;o=o.concat({x:i,p:c,entryCount:n})},d=1,m=new I.a(0),j=new I.a(c);d<=r;d++,m=m.plus(c),j=j.plus(c))u(d,m,j);return{id:a,name:n,kEval:i,kUsing:r,intervalLen:c,randomVar:o}}));return console.log(a),a}},{key:"_createRisks",value:function(e,t,a){return e.map((function(e){var n=F(e.randomVar,t),s=M(e.randomVar),i=Y(e.randomVar,B(e.randomVar),a);return{id:e.id,name:e.name,varr:n.varr,cvar:n.cvar,disp:s.disper,sko:s.sko,moment:i.moment,stdMoment:i.standMoment}}))}},{key:"_createYields",value:function(e){return e.map((function(e){return{id:e.id,name:e.name,mo:B(e.randomVar),ojid:P(e.randomVar),vzv:A(e.randomVar),rang:U(e.randomVar)}}))}},{key:"onSourceDataLoaded",value:function(e){var t=this._normalizeData(e),a=this._createWorkData(t),n=this._createRisks(a,this.state.alpha,this.state.momentI),s=this._createYields(a);this.setState({sourceData:e,normalizedData:t,workData:a,initialized:!0,risks:n,yields:s})}},{key:"onParamsChange",value:function(e){var t=e.alpha,a=e.beta,n=e.intervalCount,s=e.momentI,i={};null!==n?(i.workData=this._createWorkData(this.state.normalizedData,n),i.intervalCount=n):i.intervalCount=null,i.risks=this._createRisks(i.workData||this.state.workData,t,s),i.alpha=t,i.momentI=s,i.beta=a,this.setState(i)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p.b,{path:"/loaddata",render:function(){return Object(n.jsx)(V,{initialized:!0,title:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",renderComponent:function(){return Object(n.jsx)(C,{onSourceDataLoaded:e.onSourceDataLoaded.bind(e),sourceData:e.state.sourceData})}})}}),Object(n.jsx)(p.b,{path:"/setupparams",render:function(){return Object(n.jsx)(V,{initialized:e.state.initialized,title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432",renderComponent:function(){return Object(n.jsx)(y,{alpha:e.state.alpha,beta:e.state.beta,intervalCount:e.state.intervalCount,momentI:e.state.momentI,onParamsChange:e.onParamsChange.bind(e)})}})}}),Object(n.jsx)(p.b,{path:"/risk",render:function(){return Object(n.jsx)(V,{initialized:e.state.initialized,title:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0440\u0438\u0441\u043a\u0430",renderComponent:function(){return Object(n.jsx)(w,{fundsRisks:e.state.risks})}})}}),Object(n.jsx)(p.b,{path:"/yield",render:function(){return Object(n.jsx)(V,{initialized:e.state.initialized,title:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u0438",renderComponent:function(){return Object(n.jsx)(D,{fundsYields:e.state.yields})}})}}),Object(n.jsx)(p.b,{path:"/bestchoice",render:function(){return Object(n.jsx)(V,{initialized:e.state.initialized,title:"\u0412\u044b\u0431\u043e\u0440 \u043d\u0430\u0438\u043b\u0443\u0447\u0448\u0435\u0433\u043e \u041f\u0418\u0424\u0430",renderComponent:function(){return Object(n.jsx)(S,{risks:e.state.risks,yields:e.state.yields,beta:e.state.beta})}})}}),Object(n.jsx)(p.a,{exact:!0,from:"/",to:"/loaddata"})]})}}]),a}(i.a.Component);var J=function(){return Object(n.jsx)("div",{className:"container-fluid g-0 h-100",children:Object(n.jsxs)("div",{className:"h-100 d-flex",children:[Object(n.jsx)("aside",{className:"nav",children:Object(n.jsx)(d,{})}),Object(n.jsx)("main",{className:"main flex-grow-1",children:Object(n.jsx)(G,{})})]})})};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(u.a,{basename:"/mutualfunds",children:Object(n.jsx)(J,{})})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.aeeed16f.chunk.js.map